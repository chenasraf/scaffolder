#!/usr/bin/env node
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){t.exports=require("path")},function(t,e,n){"use strict";var r=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(0),s=n(3),a=function(){function t(t){this.locals={};var e={name:"scaffold",templates:[],output:process.cwd()};this.config=Object.assign({},e,t);var n={Name:this.config.name[0].toUpperCase()+this.config.name.slice(1),name:this.config.name[0].toLowerCase()+this.config.name.slice(1)};this.locals=Object.assign({},n,t.locals)}return t.prototype.parseLocals=function(t){var e=this,n=t.toString(),r=/{[%]\s*([^%{}]+)\s*[%]}/gi;return n.replace(r,function(t,n){return e.locals[n]})},t.prototype.fileList=function(t){var e,n,o,a,l,c,u,f,p;return r(this,function(r){switch(r.label){case 0:console.info("input:",t),e=0,n=t,r.label=1;case 1:if(!(e<n.length))return[3,6];o=n[e],a=s.sync(o).map(function(t){return i.resolve(t)}),l=o.indexOf("*"),c=o,l>=0&&(c=o.slice(0,l-1)),u=0,f=a,r.label=2;case 2:return u<f.length?(p=f[u],[4,{base:c,file:p}]):[3,5];case 3:r.sent(),r.label=4;case 4:return u++,[3,2];case 5:return e++,[3,1];case 6:return[2]}})},t.prototype.getFileContents=function(t){return o.readFileSync(t).toString()},t.prototype.getOutputPath=function(t,e){var n;if("function"==typeof this.config.output)n=this.config.output(t,e);else{var r=this.config.output+"/"+this.config.name+"/",o=t.indexOf(e),i=t;o>=0&&(i=t.slice(o+e.length+1)),n=r+i}return this.parseLocals(n)},t.prototype.writeFile=function(t,e){o.existsSync(i.dirname(t))||o.mkdirSync(i.dirname(t)),console.info("Writing file:",t),o.writeFileSync(t,e,{encoding:"utf-8"})},t.prototype.run=function(){var t=this.fileList(this.config.templates);console.info("Templates input:",t),console.info("Locals:",this.locals);for(var e;e=t.next().value;){var n=e.file,r=e.base,o=this.getOutputPath(n,r),i=this.getFileContents(n),s=this.parseLocals(i);this.writeFile(o,s),console.info("Parsing:",{file:n,base:r,outputPath:o,outputContents:s.replace("\n","\\n")})}},t}();e.default=a},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("glob")},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=process.argv.slice(2);!function(){function t(){console.log(this.getOptionsFromArgs())}t.prototype.getOptionsFromArgs=function(){var t=this,e=!1,n={};return o.forEach(function(r,i){if(e)return void(e=!1);if("--"==r.slice(0,2)){e=!0;var s=void 0;s=r.indexOf("=")>=0?r.split("=").slice(1).join(""):o.length>=i+1&&"--"!==o[i+1].slice(0,2)?o[i+1]:"true",n[r]=t.getArgValue(r.slice(2),s,n)}}),n},t.prototype.getArgValue=function(t,e,n){switch(t){case"template":return(n.templates||[]).concat([e]);case"output":return e;case"locals":for(var r=e.split(","),o=n.locals||{},i=0,s=r;i<s.length;i++){var a=s[i],l=a.split("="),c=l[0],u=l[1];o[c]=u}default:throw TypeError("arguments invalid for config: arg=`"+t+"`, value=`"+e+"`")}},t.prototype.run=function(t){new r.default({templates:t.templates,output:t.output,locals:t.locals}).run()}}()}]);
//# sourceMappingURL=cmd.js.map